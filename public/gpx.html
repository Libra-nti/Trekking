<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="robots" content="noindex, nofollow">
  <title>Visualizza GPX su Mappa</title>
  <!-- Includi Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
  
  <!-- Includi il plugin Leaflet Omnivore per il GPX -->
  <script src="https://unpkg.com/leaflet-omnivore@0.3.0/leaflet-omnivore.min.js"></script>
</head>
<body>
  <form>

    <div class="input-group mb-3">
      <label for="token" class="block mb-2 text-lg font-medium">Token</label>
      <input type="text" id="token" name="token" placeholder="Autorizzazione" class="w-full mb-4 p-2 border rounded-md" required>
      </div>
    <!-- Nome -->
    <div class="input-group mb-3">
    <label for="nome" class="block mb-2 text-lg font-medium">Nome</label>
    <input type="text" id="nome" name="nome" placeholder="Nome del percorso" class="w-full mb-4 p-2 border rounded-md" required>
    </div>
    <!-- Nome -->
    <div class="input-group mb-3">
    <label for="title" class="block mb-2 text-lg font-medium">Titolo</label>
    <input type="text" id="title" name="nome" placeholder="Titolo del percorso" class="w-full mb-4 p-2 border rounded-md" required>
    </div>
    <!-- Data -->
    <div class="input-group mb-3">
    <label for="data" class="block mb-2 text-lg font-medium">Data</label>
    <input type="date" id="data" name="data" class="w-full mb-4 p-2 border rounded-md" required>
    </div>
    <!-- Dislivello -->
    <div class="input-group mb-3">
    <label for="dislivello" class="block mb-2 text-lg font-medium">Dislivello (m)</label>
    <input type="number" id="dislivello" name="dislivello" placeholder="Es. 1200" class="w-full mb-4 p-2 border rounded-md" min="0" required>
    </div>
    <!-- Durata -->
    <div class="input-group mb-3">
    <label for="durata" class="block mb-2 text-lg font-medium">Durata (hh:mm)</label>
    <input type="time" id="durata" name="durata" class="w-full mb-4 p-2 border rounded-md" required>
    </div>
    <div class="input-group mb-3">
    <label for="youtube" class="block mb-2 text-lg font-medium">Link Youtube</label>
    <input type="text" id="youtube" name="durata" class="w-full mb-4 p-2 border rounded-md" required>
    </div>
    <div class="input-group mb-3">
    <label for="relive" class="block mb-2 text-lg font-medium">Link Relive</label>
    <input type="text" id="relive" name="durata" class="w-full mb-4 p-2 border rounded-md" required>
    </div>
    <div class="input-group mb-3">
    <label for="parking" class="block mb-2 text-lg font-medium">Parking</label>
    <input type="text" id="parking" name="durata" class="w-full mb-4 p-2 border rounded-md" required>
    </div>
    <!-- Distanza -->
    <div class="input-group mb-3">
    <label for="distanza" class="block mb-2 text-lg font-medium">Distanza (km)</label>
    <input type="number" step="0.01" id="distanza" name="distanza" placeholder="Es. 10.5" class="w-full mb-4 p-2 border rounded-md" step="0.1" min="0" required>
    </div>
    <!-- Descrizione -->
    <div class="input-group mb-3">
    <label for="descrizione" class="block mb-2 text-lg font-medium">Descrizione</label>
    <textarea id="descrizione" name="descrizione" rows="4" placeholder="Descrivi il percorso..." class="w-full mb-4 p-2 border rounded-md"></textarea>
    </div>

    <div class="input-group mb-3">
    <label for="descrizione_breve" class="block mb-2 text-lg font-medium">Descrizione Breve</label>
    <textarea id="descrizione_breve" name="descrizione_breve" rows="4" placeholder="Descrivi il percorso brevemente..." class="w-full mb-4 p-2 border rounded-md"></textarea>
    </div>
    <div class="input-group mb-3">
    <label for="location" class="block mb-2 text-lg font-medium">Zona</label>
    <textarea id="location" name="location" rows="4" placeholder="Zona" class="w-full mb-4 p-2 border rounded-md"></textarea>
    </div>

    <div class="input-group mb-3">
    <label for="difficoltà" class="block mb-2 text-lg font-medium">Difficoltà</label>
    <input id="difficoltà" type="text" name="difficoltà" rows="4" placeholder="Difficoltà" class="w-full mb-4 p-2 border rounded-md">
    </div>
    <div class="input-group mb-3">
    <label for="stagione" class="block mb-2 text-lg font-medium">Stagione</label>
    <input id="stagione" type="text" name="stagione" rows="4" placeholder="Stagione" class="w-full mb-4 p-2 border rounded-md">
    </div>
    <div class="input-group mb-3">
    <label for="esposizione" class="block mb-2 text-lg font-medium">Esposizione</label>
    <input id="esposizione" type="text" name="esposizione" rows="4" placeholder="Esposizione" class="w-full mb-4 p-2 border rounded-md">
    </div>
    <div class="input-group mb-3">
    <label for="stelle" class="block mb-2 text-lg font-medium">Stelle</label>
    <input id="stelle" type="number" name="stelle" rows="4" placeholder="Stelle" class="w-full mb-4 p-2 border rounded-md">
    </div>
    <div class="input-group mb-3">
    <label for="tipologia" class="block mb-2 text-lg font-medium">Tipologia</label>
    <input id="tipologia" type="text" name="Tipologia" rows="4" placeholder="Tipologia" class="w-full mb-4 p-2 border rounded-md">
    </div>
    <div class="input-group mb-3">
    <label for="quota" class="block mb-2 text-lg font-medium">Quota</label>
    <input id="quota" type="text" name="quota" rows="4" placeholder="Quota" class="w-full mb-4 p-2 border rounded-md">
    </div>
    <div class="input-group mb-3" >
    <label for="avvicinamento" class="block mb-2 text-lg font-medium">Dislivello avvicinamento</label>
    <input id="avvicinamento" style="display: none;" type="text" name="avvicinamento" rows="4" placeholder="Quota" class="w-full mb-4 p-2 border rounded-md">
    </div>
    <div class="input-group mb-3">
    <label for="foto" class="block mb-2 text-lg font-medium">Numero Foto</label>
    <input id="foto" type="number" name="foto" rows="4" placeholder="Num. Foto" class="w-full mb-4 p-2 border rounded-md">
    </div>
    <div class="input-group mb-3">
    <label for="equipaggiamento" class="block mb-2 text-lg font-medium">Equipaggiamento</label>
    <textarea id="equipaggiamento" name="equipaggiamento" rows="4" placeholder="equipaggiamento" class="w-full mb-4 p-2 border rounded-md"></textarea>
    </div>
    <!-- Pulsante di invio -->
    
  </form>



<h2>Carica il tuo file GPX e visualizza il percorso</h2>
<input type="file" id="gpxFile" accept=".gpx" />
<button type="button" onclick="send()" class="bg-blue-500 text-white py-2 px-4 rounded-md hover:bg-blue-600">Invia</button>
<div id="map" style="height: 600px; width: 100%;"></div>

<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
<script src="/scripts/gpx.js"></script>
<script>
    const map = L.map('map').setView([51.505, -0.09], 13); // Imposta una vista iniziale

// Aggiungi un layer di tile della mappa (OpenStreetMap)
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
  attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'

}).addTo(map);

  if(document.getElementById('tipologia').value == "Multipitch"){
    document.getElementById('avvicinamento').style.display = "block"
  }
</script>

</body>
</html>
